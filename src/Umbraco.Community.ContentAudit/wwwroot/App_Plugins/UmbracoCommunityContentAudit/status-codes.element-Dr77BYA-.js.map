{"version":3,"file":"status-codes.element-Dr77BYA-.js","sources":["../../../../Umbraco.Community.ContentAudit.UI/src/section/status-codes/collection/status-codes.element.ts"],"sourcesContent":["import { css, customElement, html } from '@umbraco-cms/backoffice/external/lit';\r\nimport { UMB_COLLECTION_CONTEXT, UmbCollectionDefaultElement, UmbDefaultCollectionContext } from '@umbraco-cms/backoffice/collection';\r\nimport { PageDto } from '../../../api';\r\nimport { UUISelectEvent, UUITextStyles } from '@umbraco-cms/backoffice/external/uui';\r\nimport { ContentAuditStatusCodesCollectionFilterModel } from './types';\r\n\r\n@customElement('content-audit-status-codes-collection')\r\nexport class ContentAuditStatusCodesCollectionElement extends UmbCollectionDefaultElement {\r\n\t#collectionContext?: UmbDefaultCollectionContext<PageDto, ContentAuditStatusCodesCollectionFilterModel>;\r\n\r\n\t#options: Array<Option> = [];\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\r\n\t\tthis.consumeContext(UMB_COLLECTION_CONTEXT, (collectionContext) => {\r\n\t\t\tthis.#collectionContext = collectionContext;\r\n\r\n\t\t\tthis.observe(this.#collectionContext?.items, (items) => {\r\n\t\t\t\tif (items != null && items?.length !== 0) {\r\n\t\t\t\t\tconst statusCodes = [...new Set(items.map((x) => x.statusCode))];\r\n\t\t\t\t\tconst options = statusCodes.sort().map((x) => ({ name: x?.toString(), value: x?.toString() }));\r\n\t\t\t\t\tthis.#options = [{ name: 'All', value: '0' }, ...options];\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\t#onChange(event: UUISelectEvent) {\r\n\t\tconst statusCode = event.target.value as string;\r\n\t\tthis.#collectionContext?.setFilter({ statusCode: parseInt(statusCode) });\r\n\t}\r\n\r\n\tprotected override renderToolbar() {\r\n\t\treturn html`\r\n\t\t\t<umb-collection-toolbar slot=\"header\">\r\n\t\t\t\t<div id=\"toolbar\">\r\n\t\t\t\t\t<umb-collection-filter-field></umb-collection-filter-field>\r\n\t\t\t\t\t<uui-select\r\n\t\t\t\t\t\tlabel=\"Select status code...\"\r\n\t\t\t\t\t\tplaceholder=\"Select status code...\"\r\n\t\t\t\t\t\t.options=${this.#options}\r\n\t\t\t\t\t\t@change=${this.#onChange}></uui-select>\r\n\t\t\t\t</div>\r\n\t\t\t</umb-collection-toolbar>\r\n\t\t`;\r\n\t}\r\n\r\n\tstatic override styles = [\r\n\t\tUUITextStyles,\r\n\t\tcss`\r\n\t\t\t:host {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: column;\r\n\t\t\t\tbox-sizing: border-box;\r\n\t\t\t\tgap: var(--uui-size-space-5);\r\n\t\t\t\theight: 100%;\r\n\t\t\t}\r\n\r\n\t\t\t#toolbar {\r\n\t\t\t\tflex: 1;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tgap: var(--uui-size-space-5);\r\n\t\t\t\tjustify-content: space-between;\r\n\t\t\t\talign-items: center;\r\n\t\t\t}\r\n\r\n\t\t\tumb-collection-filter-field {\r\n\t\t\t\twidth: 100%;\r\n\t\t\t}\r\n\r\n\t\t\tuui-select {\r\n\t\t\t\twidth: 100%;\r\n\t\t\t}\r\n\r\n\t\t\t#empty-state {\r\n\t\t\t\theight: 80%;\r\n\t\t\t\talign-content: center;\r\n\t\t\t\ttext-align: center;\r\n\t\t\t}\r\n\t\t`,\r\n\t];\r\n}\r\n\r\nexport default ContentAuditStatusCodesCollectionElement;\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'content-audit-status-codes-collection': ContentAuditStatusCodesCollectionElement;\r\n\t}\r\n}"],"names":["_collectionContext","_options","_ContentAuditStatusCodesCollectionElement_instances","onChange_fn","ContentAuditStatusCodesCollectionElement","UmbCollectionDefaultElement","__privateAdd","UMB_COLLECTION_CONTEXT","collectionContext","__privateSet","_a","__privateGet","items","options","x","html","__privateMethod","event","statusCode","UUITextStyles","css","__decorateClass","customElement","ContentAuditStatusCodesCollectionElement$1"],"mappings":";;;;;;;;;wXAAAA,GAAAC,GAAAC,GAAAC;AAOa,IAAAC,IAAN,cAAuDC,EAA4B;AAAA,EAKzF,cAAc;AACP,UAAA,GANDC,EAAA,MAAAJ,CAAA,GACNI,EAAA,MAAAN,CAAA,GAEAM,EAAA,MAAAL,GAA0B,EAAC,GAKrB,KAAA,eAAeM,GAAwB,CAACC,MAAsB;;AAClE,MAAAC,EAAA,MAAKT,GAAqBQ,CAAA,GAE1B,KAAK,SAAQE,IAAAC,EAAA,MAAKX,CAAoB,MAAzB,gBAAAU,EAAyB,OAAO,CAACE,MAAU;AACvD,YAAIA,KAAS,SAAQA,KAAA,gBAAAA,EAAO,YAAW,GAAG;AAEzC,gBAAMC,IADc,CAAC,GAAG,IAAI,IAAID,EAAM,IAAI,CAACE,MAAMA,EAAE,UAAU,CAAC,CAAC,EACnC,KAAO,EAAA,IAAI,CAACA,OAAO,EAAE,MAAMA,KAAA,gBAAAA,EAAG,YAAY,OAAOA,KAAA,gBAAAA,EAAG,aAAa;AACxF,UAAAL,EAAA,MAAAR,GAAW,CAAC,EAAE,MAAM,OAAO,OAAO,IAAA,GAAO,GAAGY,CAAO,CAAA;AAAA,QAAA;AAAA,MACzD,CACA;AAAA,IAAA,CACD;AAAA,EAAA;AAAA,EAQiB,gBAAgB;AAC3B,WAAAE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAOQJ,QAAKV,CAAQ,CAAA;AAAA,gBACde,QAAKd,GAASC,CAAA,CAAA;AAAA;AAAA;AAAA;AAAA,EAAA;AAwC9B;AA1ECH,IAAA,oBAAA,QAAA;AAEAC,IAAA,oBAAA,QAAA;AAHMC,IAAA,oBAAA,QAAA;AAqBNC,IAAS,SAACc,GAAuB;;AAC1B,QAAAC,IAAaD,EAAM,OAAO;AAChC,GAAAP,IAAAC,EAAA,MAAKX,OAAL,QAAAU,EAAyB,UAAU,EAAE,YAAY,SAASQ,CAAU;AACrE;AAxBYd,EAyCI,SAAS;AAAA,EACxBe;AAAA,EACAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA+BD;AA1EYhB,IAANiB,EAAA;AAAA,EADNC,EAAc,uCAAuC;AAAA,GACzClB,CAAA;AA6Eb,MAAAmB,IAAenB;"}