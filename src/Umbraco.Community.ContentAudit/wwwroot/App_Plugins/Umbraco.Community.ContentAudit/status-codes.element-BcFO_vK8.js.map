{"version":3,"file":"status-codes.element-BcFO_vK8.js","sources":["../../../../Umbraco.Community.ContentAudit.UI/src/section/status-codes/collection/status-codes.element.ts"],"sourcesContent":["import { css, customElement, html } from '@umbraco-cms/backoffice/external/lit';\nimport { UMB_COLLECTION_CONTEXT, UmbCollectionDefaultElement, UmbDefaultCollectionContext } from '@umbraco-cms/backoffice/collection';\nimport { PageDto } from '../../../api';\nimport { UUISelectEvent, UUITextStyles } from '@umbraco-cms/backoffice/external/uui';\nimport { ContentAuditStatusCodesCollectionFilterModel } from './types';\n\n@customElement('content-audit-status-codes-collection')\nexport class ContentAuditStatusCodesCollectionElement extends UmbCollectionDefaultElement {\n\t#collectionContext?: UmbDefaultCollectionContext<PageDto, ContentAuditStatusCodesCollectionFilterModel>;\n\n\t#options: Array<Option> = [];\n\n\tconstructor() {\n\t\tsuper();\n\n\t\tthis.consumeContext(UMB_COLLECTION_CONTEXT, (collectionContext) => {\n\t\t\tthis.#collectionContext = collectionContext;\n\n\t\t\tthis.observe(this.#collectionContext.items, (items) => {\n\t\t\t\tif (items != null && items?.length !== 0) {\n\t\t\t\t\tconst statusCodes = [...new Set(items.map((x) => x.statusCode))];\n\t\t\t\t\tconst options = statusCodes.sort().map((x) => ({ name: x.toString(), value: x.toString() }));\n\t\t\t\t\tthis.#options = [{ name: 'All', value: '0' }, ...options];\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n\n\t#onChange(event: UUISelectEvent) {\n\t\tconst statusCode = event.target.value as string;\n\t\tthis.#collectionContext?.setFilter({ statusCode: parseInt(statusCode) });\n\t}\n\n\tprotected override renderToolbar() {\n\t\treturn html`\n\t\t\t<umb-collection-toolbar slot=\"header\">\n\t\t\t\t<div id=\"toolbar\">\n\t\t\t\t\t<umb-collection-filter-field></umb-collection-filter-field>\n\t\t\t\t\t<uui-select\n\t\t\t\t\t\tlabel=\"Select status code...\"\n\t\t\t\t\t\tplaceholder=\"Select status code...\"\n\t\t\t\t\t\t.options=${this.#options}\n\t\t\t\t\t\t@change=${this.#onChange}></uui-select>\n\t\t\t\t</div>\n\t\t\t</umb-collection-toolbar>\n\t\t`;\n\t}\n\n\tstatic override styles = [\n\t\tUUITextStyles,\n\t\tcss`\n\t\t\t:host {\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-direction: column;\n\t\t\t\tbox-sizing: border-box;\n\t\t\t\tgap: var(--uui-size-space-5);\n\t\t\t\theight: 100%;\n\t\t\t}\n\n\t\t\t#toolbar {\n\t\t\t\tflex: 1;\n\t\t\t\tdisplay: flex;\n\t\t\t\tgap: var(--uui-size-space-5);\n\t\t\t\tjustify-content: space-between;\n\t\t\t\talign-items: center;\n\t\t\t}\n\n\t\t\tumb-collection-filter-field {\n\t\t\t\twidth: 100%;\n\t\t\t}\n\n\t\t\tuui-select {\n\t\t\t\twidth: 100%;\n\t\t\t}\n\n\t\t\t#empty-state {\n\t\t\t\theight: 80%;\n\t\t\t\talign-content: center;\n\t\t\t\ttext-align: center;\n\t\t\t}\n\t\t`,\n\t];\n}\n\nexport default ContentAuditStatusCodesCollectionElement;\n\ndeclare global {\n\tinterface HTMLElementTagNameMap {\n\t\t'content-audit-status-codes-collection': ContentAuditStatusCodesCollectionElement;\n\t}\n}"],"names":["_collectionContext","_options","_ContentAuditStatusCodesCollectionElement_instances","onChange_fn","ContentAuditStatusCodesCollectionElement","UmbCollectionDefaultElement","__privateAdd","UMB_COLLECTION_CONTEXT","collectionContext","__privateSet","__privateGet","items","options","x","html","__privateMethod","event","statusCode","_a","UUITextStyles","css","__decorateClass","customElement","ContentAuditStatusCodesCollectionElement$1"],"mappings":";;;;;;;;;wYAAAA,GAAAC,GAAAC,GAAAC;AAOa,IAAAC,IAAN,cAAuDC,EAA4B;AAAA,EAKzF,cAAc;AACP,UAAA,GANDC,EAAA,MAAAJ,CAAA,GACNI,EAAA,MAAAN,CAAA,GAEAM,EAAA,MAAAL,GAA0B,EAAC,GAKrB,KAAA,eAAeM,GAAwB,CAACC,MAAsB;AAClE,MAAAC,EAAA,MAAKT,GAAqBQ,CAAA,GAE1B,KAAK,QAAQE,EAAA,MAAKV,CAAmB,EAAA,OAAO,CAACW,MAAU;AACtD,YAAIA,KAAS,SAAQA,KAAA,gBAAAA,EAAO,YAAW,GAAG;AAEzC,gBAAMC,IADc,CAAC,GAAG,IAAI,IAAID,EAAM,IAAI,CAACE,MAAMA,EAAE,UAAU,CAAC,CAAC,EACnC,KAAO,EAAA,IAAI,CAACA,OAAO,EAAE,MAAMA,EAAE,YAAY,OAAOA,EAAE,aAAa;AACtF,UAAAJ,EAAA,MAAAR,GAAW,CAAC,EAAE,MAAM,OAAO,OAAO,IAAA,GAAO,GAAGW,CAAO,CAAA;AAAA,QAAA;AAAA,MACzD,CACA;AAAA,IAAA,CACD;AAAA,EAAA;AAAA,EAQiB,gBAAgB;AAC3B,WAAAE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAOQJ,QAAKT,CAAQ,CAAA;AAAA,gBACdc,QAAKb,GAASC,CAAA,CAAA;AAAA;AAAA;AAAA;AAAA,EAAA;AAwC9B;AA1ECH,IAAA,oBAAA,QAAA;AAEAC,IAAA,oBAAA,QAAA;AAHMC,IAAA,oBAAA,QAAA;AAqBNC,IAAS,SAACa,GAAuB;;AAC1B,QAAAC,IAAaD,EAAM,OAAO;AAChC,GAAAE,IAAAR,EAAA,MAAKV,OAAL,QAAAkB,EAAyB,UAAU,EAAE,YAAY,SAASD,CAAU;AACrE;AAxBYb,EAyCI,SAAS;AAAA,EACxBe;AAAA,EACAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA+BD;AA1EYhB,IAANiB,EAAA;AAAA,EADNC,EAAc,uCAAuC;AAAA,GACzClB,CAAA;AA6Eb,MAAAmB,IAAenB;"}